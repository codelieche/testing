{% extends 'base.html' %}

{% block title %}项目详情 | 性能测试{% endblock %}
{% load self_tags %}

{% block content %}
    <div class="wrap project-detail">
                <div class="header clearfix">
                    <div class="title">
                        <h2>{{ project.name }}</h2>
                    </div>
                </div>
                <!--测试用例列表开始-->
                <div class="section">
                    <div class="title">
                        <span class="pts-icon circle"></span>
                        测试列表
                    </div>
                    <div class="case-list">
                        {% if all_case %}
                            <ol>
                                {% for case in all_case %}
                                    <li class="clearfix">
                                        <a href="" class="case">测试用例01</a>
                                        <div class="buttons fr">
                                            <a href="" class="btn btn-default">删除</a>
                                            <a href="{% url 'case:execute'  case.pk %}" class="btn btn-primary">执行测试</a>
                                        </div>
                                    </li>
                                {% endfor %}
                            </ol>
                        {% else %}
                            <div class="add-case">
                            <span>还没有任何测试用例</span>
                            <span >
                                <a href="/admin/tcase/case/add/" class="plus">+</a>
                                一个
                            </span>
                        </div>
                        {% endif %}
                    </div>
                </div>
                <!--测试用例列表end-->

                <!--section 测试报告列表-->
                <div class="section">
                    <div class="title">
                        <span class="pts-icon circle"></span>
                        测试结果列表
                    </div>
                    <div class="report-list">
                        {% if all_report %}
                            {% for report in all_report %}
                                <div class="item">
                            <div class="title">
                                <a href="{% url 'execute:report' report.execute_id %}" target="_blank">
                                    {{ report.execute.name }}
                                </a>
                            </div>
{#                                    这里用标签来生成对应的统计信息 #}
                            {% execute_get_stats report.execute_id %}
                        </div>
                            {% endfor %}
                        {% else %}
                            <div class="no-report">
                                <span>还没有任何测试结果</span>
                            </div>
                        {% endif %}
                    </div>
                </div>

            </div>
{% endblock %}

{% block sidebar_right %}
     <div class="panel">
        <div class="header">
            项目信息
        </div>
        <div class="inner">
            项目名字
            <br>
            生产环境地址
            <br>
            相关信息
            <br>
            项目Logo
        </div>
    </div>
{% endblock %}